{"name":"e11b8a8e-9219-491a-86db-1e86fa9bb2ba","id":"/providers/Microsoft.Flow/flows/e11b8a8e-9219-491a-86db-1e86fa9bb2ba","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"Asset Update - SAP","definition":{"metadata":{"workflowEntityId":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"9cf3c779-64db-4505-9854-e6685fc4020f","type":"User","tenantId":"2bdc83fe-9b8b-4af8-92bf-9e0069173034"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2020-12-09T07:44:34.0265405Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"CallSAPfunction_SERIALNUMBER":{"type":"string","description":"Serial number","x-ms-powerflows-param-ispartial":false},"CallSAPfunction_USERDATA_COMPZZTYPE":{"type":"string"},"CallSAPfunction_USERDATA_COMPZZUSER":{"type":"string"},"CallSAPfunction_USERDATA_COMPZZLOCATION":{"type":"string"},"CallSAPfunction_USERDATA_COMPZZCONDITION":{"type":"string"}},"required":["CallSAPfunction_SERIALNUMBER","CallSAPfunction_USERDATA_COMPZZTYPE","CallSAPfunction_USERDATA_COMPZZUSER","CallSAPfunction_USERDATA_COMPZZLOCATION","CallSAPfunction_USERDATA_COMPZZCONDITION"]}}}},"actions":{"Call_SAP_function":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_saperp","connectionName":"shared_saperp","operationId":"Invoke"},"parameters":{"AppServerHost":"BABTRCSAP02","Client":520,"SystemNumber":"00","function":"ZFABAB_FIXEDASSET_CHANGEDET","isSessionStateful":"Yes","UseSnc":false,"SncLibraryPath":"Optional","SncSso":"Off","SncMyName":"Optional","SncPartnerName":"Optional","SncQop":"Default","functionInput/SERIALNUMBER":"@triggerBody()['CallSAPfunction_SERIALNUMBER']","functionInput/USERDATA_COMP/ZZTYPE":"@triggerBody()['CallSAPfunction_USERDATA_COMPZZTYPE']","functionInput/USERDATA_COMP/ZZUSER":"@triggerBody()['CallSAPfunction_USERDATA_COMPZZUSER']","functionInput/USERDATA_COMP/ZZLOCATION":"@triggerBody()['CallSAPfunction_USERDATA_COMPZZLOCATION']","functionInput/USERDATA_COMP/ZZCONDITION":"@triggerBody()['CallSAPfunction_USERDATA_COMPZZCONDITION']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}},"Respond_to_a_PowerApp_or_flow":{"runAfter":{"Call_SAP_function":["Succeeded"]},"type":"Response","kind":"PowerApp","inputs":{"statusCode":200,"body":{"message":"@outputs('Call_SAP_function')?['body/RETURN/MESSAGE']"},"schema":{"type":"object","properties":{"message":{"title":"Message","x-ms-dynamically-added":true,"type":"string"}}}}}},"outputs":{},"description":"Create one or more actions to happen when a button or link in Power Apps is selected. To use this flow from a Power App, select the control you want to trigger the flow and go to the Action tab in the Power Apps ribbon and select Flows."},"connectionReferences":{"shared_saperp":{"connectionName":"b21705d79fe044fd96b42d6163b26dae","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_saperp","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}