{"name":"0aadc339-f90e-4010-9fa9-cc3879847c6c","id":"/providers/Microsoft.Flow/flows/0aadc339-f90e-4010-9fa9-cc3879847c6c","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"Getting Asset Info - SAP","definition":{"metadata":{"workflowEntityId":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"9cf3c779-64db-4505-9854-e6685fc4020f","type":"User","tenantId":"2bdc83fe-9b8b-4af8-92bf-9e0069173034"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2020-12-09T07:28:34.5377393Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"CallSAPfunction_SERIALNUMBER":{"type":"string","description":"Asset Serial Number","x-ms-powerflows-param-ispartial":false}},"required":["CallSAPfunction_SERIALNUMBER"]}}}},"actions":{"Call_SAP_function":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_saperp","connectionName":"shared_saperp","operationId":"Invoke"},"parameters":{"AppServerHost":"BABTRCSAP02","Client":520,"SystemNumber":"00","function":"ZFABAB_FIXEDASSET_GETDETAIL","isSessionStateful":"No","UseSnc":false,"SncLibraryPath":"Optional","SncSso":"Off","SncMyName":"Optional","SncPartnerName":"Optional","SncQop":"Default","functionInput/SERIALNUMBER":"@triggerBody()['CallSAPfunction_SERIALNUMBER']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}},"Respond_to_a_PowerApp_or_flow":{"runAfter":{"Call_SAP_function":["Succeeded"]},"type":"Response","kind":"PowerApp","inputs":{"statusCode":200,"body":{"serial":"@outputs('Call_SAP_function')?['body/BASIC_DATA/SERIAL_NO']","description":"@outputs('Call_SAP_function')?['body/BASIC_DATA/DESCRIPT']","type":"@outputs('Call_SAP_function')?['body/COMPUTER_DATA/ZZTYPE']","user":"@outputs('Call_SAP_function')?['body/COMPUTER_DATA/ZZUSER']","location":"@outputs('Call_SAP_function')?['body/COMPUTER_DATA/ZZLOCATION']","condition":"@outputs('Call_SAP_function')?['body/COMPUTER_DATA/ZZCONDITION']"},"schema":{"type":"object","properties":{"serial":{"title":"Serial","x-ms-dynamically-added":true,"type":"string"},"description":{"title":"Description","x-ms-dynamically-added":true,"type":"string"},"type":{"title":"Type","x-ms-dynamically-added":true,"type":"string"},"user":{"title":"User","x-ms-dynamically-added":true,"type":"string"},"location":{"title":"Location","x-ms-dynamically-added":true,"type":"string"},"condition":{"title":"Condition","x-ms-dynamically-added":true,"type":"string"}}}}}},"outputs":{},"description":"Create one or more actions to happen when a button or link in Power Apps is selected. To use this flow from a Power App, select the control you want to trigger the flow and go to the Action tab in the Power Apps ribbon and select Flows."},"connectionReferences":{"shared_saperp":{"connectionName":"b21705d79fe044fd96b42d6163b26dae","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_saperp","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}